
Related to [[Privilege Escalation]], [[Linux Exploitation]] and [[Post Exploitation]]

We can use a linux exploit suggester

To do this we will need a [[Metasploit]] meterpreter session.

The repo for the exploit suggester:

https://github.com/mzet-/linux-exploit-suggester

We can transfer the needed file using our meterpreter session

``` bash
upload [path_to_shellfile]
```

Then whe will need a shell which we can obtain with 

``` bash
/bin/bash -i
```

We may also need to make the file executable.

We can download highlighted exploits from exploitdb

In the lab we need to compile a C exploit called dirty cow:

``` bash
sudo apt-get install gcc
gcc -pthread [file].c -o dirty -lcrypt
```

Dirty is the binary, we will need to transfer it to the target system:

``` bash
upload [pathtofile]
```

Then run it with:

``` bash
./dirty [newpassword]
```

If this fails we will need to compile the C code on the target machine.

Then change user connecting to it via SSH, you may need to change the key using the command ssh will provide